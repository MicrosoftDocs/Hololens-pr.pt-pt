---
title: Separação do Estado e isolamento
description: Saiba mais sobre a separação do estado, isolamento, assinatura de código e aplicações de defesa no seu dispositivo de realidade mista HoloLens 2.
author: evmill
ms.author: v-evmill
ms.reviewer: tagran
ms.date: 6/30/2020
ms.topic: article
keywords: segurança, hololens, separação do Estado, separação do Estado e isolamento, hololens2 segurança, visão geral de segurança, arquitetura de segurança, arquitetura, hololens 2 arquitetura
ms.prod: hololens
ms.sitesec: library
ms.localizationpriority: high
manager: yannisle
appliesto:
- HoloLens 2
ms.openlocfilehash: 60d6d7c0e281395957ce9158144a5f3d60927682
ms.sourcegitcommit: ad53ba5edd567a18f0c172578d78db3190701650
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 04/19/2021
ms.locfileid: "111379938"
---
# <a name="state-separation-and-isolation"></a><span data-ttu-id="69808-104">Separação do Estado e isolamento</span><span class="sxs-lookup"><span data-stu-id="69808-104">State separation and isolation</span></span>

<span data-ttu-id="69808-105">A separação e o isolamento do Estado protegem partes críticas do sistema operativo Hololens 2 da mudança – como as necessárias para que o sistema operativo seja iniciado num estado de confiança.</span><span class="sxs-lookup"><span data-stu-id="69808-105">State separation and isolation protects critical portions of the Hololens 2 operating system from change – such as those required for the operating system to boot into a trusted state.</span></span> <span data-ttu-id="69808-106">Com a tecnologia de isolamento, as aplicações não fided quanto às fidedqui nem as que correm são transferidas para um ambiente isolado de caixas de areia, para garantir que não afetam a segurança do sistema.</span><span class="sxs-lookup"><span data-stu-id="69808-106">With isolation technology, untrusted apps are moved to an isolated sandbox environment, to ensure that they do not affect system security.</span></span>

## <a name="state-separation"></a><span data-ttu-id="69808-107">Separação do Estado</span><span class="sxs-lookup"><span data-stu-id="69808-107">State separation</span></span>

<span data-ttu-id="69808-108">A separação do Estado no HoloLens 2 melhora consideravelmente a segurança e a capacidade de serviço (atualização) e ajuda a proteger os dados da sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="69808-108">State separation on HoloLens 2 vastly improves security and serviceability (updating) and helps protect your application data.</span></span>  <span data-ttu-id="69808-109">A separação do Estado funciona da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="69808-109">State separation works as follows:</span></span>
  * <span data-ttu-id="69808-110">O sistema operativo principal é armazenado no volume do sistema operativo principal (fidedignos ou verificados Microsoft OS atualizando o sistema operativo).</span><span class="sxs-lookup"><span data-stu-id="69808-110">The core operating system is stored in the core operating system volume (trusted or verified Microsoft OS updating the operating system).</span></span>
  * <span data-ttu-id="69808-111">As porções do sistema operativo que podem ser alteradas no tempo de execução (como condutores e configurações transferíveis), utilizam a separação do estado para dividir os dados e para os armazenar em locais de armazenamento seguros e separados.</span><span class="sxs-lookup"><span data-stu-id="69808-111">The portions of the operating system that can be changed at run time (such as downloadable drivers and configurations), use further state separation to partition the data, and to store it in secure, separate storage locations.</span></span>
  * <span data-ttu-id="69808-112">Cada local de armazenamento seguro tem políticas de segurança distintas associadas a ele, oferecendo variadas vantagens de segurança conforme detalhado na secção seguinte.</span><span class="sxs-lookup"><span data-stu-id="69808-112">Each secure storage location has distinct security policies associated with it, offering varied security advantages as detailed in the following section.</span></span>

## <a name="state-separation-benefits"></a><span data-ttu-id="69808-113">Benefícios de separação do Estado</span><span class="sxs-lookup"><span data-stu-id="69808-113">State separation benefits</span></span>

  * <span data-ttu-id="69808-114">Segurança: A separação do estado apresentada no HoloLens 2 melhora significativamente a integridade da plataforma, a resistência ao malware e a proteção de dados dos utilizadores.</span><span class="sxs-lookup"><span data-stu-id="69808-114">Security: The state separation featured in HoloLens 2 significantly improves platform integrity, malware resistance and user data protection.</span></span> <span data-ttu-id="69808-115">Ao separar a parte inalterável do sistema operativo e torná-la apenas protegida pela leitura ou pela integridade, a separação do Estado torna extremamente difícil que o malware persista através de um reboot frio.</span><span class="sxs-lookup"><span data-stu-id="69808-115">By separating the unalterable part of the operating system and making it read-only or integrity protected, state separation makes it extremely difficult for malware to persist across a cold reboot.</span></span> 
  * <span data-ttu-id="69808-116">Atualizações: Com hololens 2, uma vez que o sistema operativo principal é indificável e foi separado do resto dos dados do dispositivo, as atualizações tornam-se simples e fiáveis.</span><span class="sxs-lookup"><span data-stu-id="69808-116">Updates: With HoloLens 2, once the core operating system is unmodifiable and has been cleanly separated from the rest of the data on the device, updates become simple and reliable.</span></span>  <span data-ttu-id="69808-117">Além disso, a separação do Estado estabelece as bases vitais para atualizações dramaticamente mais rápidas, o que permite que o sistema operativo seja substituído num único passo (unidade atómica).</span><span class="sxs-lookup"><span data-stu-id="69808-117">In addition, state separation lays the vital groundwork for dramatically faster updates, which permits the operating system to be replaced in a single step (atomic unit).</span></span>
  * <span data-ttu-id="69808-118">Reset do dispositivo: O reset do HoloLens 2 limpa os dados gerados pelo utilizador e os dados das aplicações dos utilizadores no dispositivo – incluindo locais de armazenamento internos e externos.</span><span class="sxs-lookup"><span data-stu-id="69808-118">Device reset: HoloLens 2 reset clears user generated data and user app data on the device – including internal and external storage locations.</span></span> <span data-ttu-id="69808-119">Preserva as atuais aplicações de SEGURANÇA e aplicações críticas de segurança, e as atuais aplicações personalizadas da Microsoft e OEM (Pré-instaladas).</span><span class="sxs-lookup"><span data-stu-id="69808-119">It preserves the current OS apps and security critical apps, and the current Microsoft and OEM customized apps (Preinstalled).</span></span> <span data-ttu-id="69808-120">Estas aplicações pré-instaladas podem ser rehidratadas no dispositivo após a conclusão do reset</span><span class="sxs-lookup"><span data-stu-id="69808-120">These Preinstalled apps can be rehydrated on the device after reset completes</span></span>

### <a name="state-separation-states"></a><span data-ttu-id="69808-121">Estados de separação do Estado</span><span class="sxs-lookup"><span data-stu-id="69808-121">State separation states</span></span>

<span data-ttu-id="69808-122">A separação do Estado garante que o sistema operativo só pode ser alterado por componentes de dispositivos fidedignos da Microsoft e apenas o estado de alto valor é permitido persistir através de reboots; outro estado do sistema existe apenas durante a duração da sessão de arranque e é descartado após um reboot.</span><span class="sxs-lookup"><span data-stu-id="69808-122">State separation ensures the operating system can only be changed by Microsoft trusted device components and only high-value state is allowed to persist across reboots; other system state exists only for the duration of the boot session and is discarded after a reboot.</span></span> <span data-ttu-id="69808-123">Ter a separação do Estado rapidamente devolve o dispositivo ao estado de fábrica.</span><span class="sxs-lookup"><span data-stu-id="69808-123">Having state separation rapidly returns the device back to factory state.</span></span> <span data-ttu-id="69808-124">O Windows Holographic for Business states pode ser dividido nestas categorias distintas:</span><span class="sxs-lookup"><span data-stu-id="69808-124">Windows Holographic for Business states can be divided into these distinct categories:</span></span>
  * <span data-ttu-id="69808-125">Sistema operativo central – Estado inalterável</span><span class="sxs-lookup"><span data-stu-id="69808-125">Core operating system – Unalterable state</span></span>
  * <span data-ttu-id="69808-126">Dados do Sistema Operativo – Estado alterável</span><span class="sxs-lookup"><span data-stu-id="69808-126">Operating System Data – Alterable state</span></span> 
  * <span data-ttu-id="69808-127">Dados do Utilizador – Estado alterável</span><span class="sxs-lookup"><span data-stu-id="69808-127">User Data – Alterable state</span></span>

<span data-ttu-id="69808-128">Cada um destes estados operacionais HoloLens 2 é descrito na secção seguinte.</span><span class="sxs-lookup"><span data-stu-id="69808-128">Each of these HoloLens 2 operating states is described in the following section.</span></span>

#### <a name="core-operating-system"></a><span data-ttu-id="69808-129">Sistema operativo central</span><span class="sxs-lookup"><span data-stu-id="69808-129">Core operating system</span></span>

<span data-ttu-id="69808-130">Um estado imutável é composto por ficheiros e dados executáveis que são inalteráveis e só podem ser alterados pela Microsoft durante a instalação de atualizações.</span><span class="sxs-lookup"><span data-stu-id="69808-130">An immutable state is comprised of executable files and data that are unalterable and can only be changed by Microsoft during the installation of updates.</span></span> <span data-ttu-id="69808-131">Durante esta atualização do sistema operativo principal, está ativada uma nova imagem que contenha o estado operacional mais recente pretendido.</span><span class="sxs-lookup"><span data-stu-id="69808-131">During such an update of the core operating system, a new image containing the latest desired operating state is enabled.</span></span>
<span data-ttu-id="69808-132">O estado inalterável é marcado como apenas leitura (ou está protegido pela integridade), evitando a persistência de qualquer malware com privilégios elevados.</span><span class="sxs-lookup"><span data-stu-id="69808-132">The unalterable state is marked as read-only (or is otherwise integrity-protected), preventing persistence of any malware with elevated privileges.</span></span> <span data-ttu-id="69808-133">Os seguintes ficheiros e dados executáveis estão protegidos no estado imutável:</span><span class="sxs-lookup"><span data-stu-id="69808-133">The following executable files and data are protected in the immutable state:</span></span>
  * <span data-ttu-id="69808-134">Controladores de caixa de entrada Holográfico do Windows</span><span class="sxs-lookup"><span data-stu-id="69808-134">Windows Holographic inbox drivers</span></span>
  * <span data-ttu-id="69808-135">Binários do sistema operativo</span><span class="sxs-lookup"><span data-stu-id="69808-135">Operating system binaries</span></span>
  * <span data-ttu-id="69808-136">Controladores de caixa de entrada do Windows</span><span class="sxs-lookup"><span data-stu-id="69808-136">Windows inbox drivers</span></span>
  * <span data-ttu-id="69808-137">Definições holográficas estáticas do Windows armazenadas na colmeia de registo do Windows (HKLM)</span><span class="sxs-lookup"><span data-stu-id="69808-137">Static Windows Holographic settings stored in Windows registry hive (HKLM)</span></span>
    * <span data-ttu-id="69808-138">Exemplo: A HKLM armazena as informações de configuração das aplicações instaladas numa máquina.</span><span class="sxs-lookup"><span data-stu-id="69808-138">Example: HKLM stores the configuration information for the apps installed on a machine.</span></span> <span data-ttu-id="69808-139">Também armazena informações para detetar hardware e os condutores correspondentes.</span><span class="sxs-lookup"><span data-stu-id="69808-139">It also stores information to detect hardware and the corresponding drivers.</span></span>
<span data-ttu-id="69808-140">Protegendo-os no estado imutável (integridade e apenas de leitura) do estado, garantimos que o sistema operativo central sempre entra num estado de confiança.</span><span class="sxs-lookup"><span data-stu-id="69808-140">By protecting these in the immutable (integrity and read-only protected) state, we ensure that the core operating system always boots into a trusted state.</span></span> <span data-ttu-id="69808-141">Além disso, quando um dispositivo é reiniciado, podemos garantir que o dispositivo se inspeda apenas nos componentes que se encontram nesta secção imutável.</span><span class="sxs-lookup"><span data-stu-id="69808-141">Additionally, when a device is reset, we can ensure that the device boots only into the components that are on this immutable section.</span></span> 

#### <a name="operating-system-data"></a><span data-ttu-id="69808-142">Dados do sistema operativo</span><span class="sxs-lookup"><span data-stu-id="69808-142">Operating system data</span></span> 

<span data-ttu-id="69808-143">É importante notar que ficheiros e dados executáveis que são mutáveis em tempo de execução (e não são críticos para a função do sistema operativo), podem ser descartados e recriados quando os dados são corrompidos ou comprometidos.</span><span class="sxs-lookup"><span data-stu-id="69808-143">It is important to note that executable files and data that are changeable at runtime (and are not critical to the operating system function), can be discarded and re-created when the data is corrupted or compromised.</span></span> <span data-ttu-id="69808-144">Um estado alterável de alto valor é necessário funcionalmente para persistir pelo sistema operativo, ou espera-se que persista em todo o sistema operativo, e/ou através de reboots por sistema operativo e cenários de dispositivos suportados pelo Windows.</span><span class="sxs-lookup"><span data-stu-id="69808-144">A high-value alterable state is either functionally required to persist by the operating system, or expected to persist across operating system shutdown, and/or across reboots by supported Windows operating system and device scenarios.</span></span> <span data-ttu-id="69808-145">Exemplos de estado mutável de alto valor são:</span><span class="sxs-lookup"><span data-stu-id="69808-145">Examples of high-value mutable state are:</span></span>
  * <span data-ttu-id="69808-146">Definições globais de dispositivos configurados pela Amin, tais como desativar a localização para todos os utilizadores.</span><span class="sxs-lookup"><span data-stu-id="69808-146">IT Admin-configured global device settings, such as disabling the location for all users.</span></span>
  * <span data-ttu-id="69808-147">A ligação wi-fi de rede acede a redes de dados e senhas de ligação associadas.</span><span class="sxs-lookup"><span data-stu-id="69808-147">Wi-fi network connection access data-device-remembered networks and associated connection passwords.</span></span>
  * <span data-ttu-id="69808-148">Depósitos de colisão, incluindo configurações, troncos.</span><span class="sxs-lookup"><span data-stu-id="69808-148">Crash dumps including settings, logs.</span></span>
  * <span data-ttu-id="69808-149">Os condutores descarregaram a pedido de dispositivos recém-descobertos.</span><span class="sxs-lookup"><span data-stu-id="69808-149">Drivers downloaded on-demand for newly discovered devices.</span></span>
<span data-ttu-id="69808-150">Um estado alterável de alto valor no HoloLens 2 reside no sistema operativo Localização de segurança de dados, seja como um ficheiro guardado no disco ou numa colmeia de registo persistido.</span><span class="sxs-lookup"><span data-stu-id="69808-150">A high-value alterable state on HoloLens 2 resides on the operating system Data security location, either as a saved file on disk or in a persisted registry hive.</span></span>

#### <a name="user-data"></a><span data-ttu-id="69808-151">Dados de utilizador</span><span class="sxs-lookup"><span data-stu-id="69808-151">User data</span></span>

<span data-ttu-id="69808-152">A última categoria de estado representa dados de utilizador produzidos ou persistidos por aplicações UWP ou pelo sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="69808-152">The last category of state represents user data produced or persisted by UWP applications or the operating system.</span></span> <span data-ttu-id="69808-153">Todas as pastas conhecidas do utilizador, tais como Downloads, Documentos, Vídeos, perfis de utilizador e HKEY_CURRENT_USER colmeia também estão armazenadas neste local.</span><span class="sxs-lookup"><span data-stu-id="69808-153">All known user folders such as Downloads, Documents, Videos, user profiles and HKEY_CURRENT_USER hive are also stored in this location.</span></span> <span data-ttu-id="69808-154">Estes dados não podem ser extraídos sem credenciais adequadas; para saber mais sobre como os seus dados são protegidos, consulte [encriptação e proteção de dados.](security-encryption-data-protection.md)</span><span class="sxs-lookup"><span data-stu-id="69808-154">This data cannot be extracted without proper credentials; to learn more about how your data is protected, see [Encryption and Data Protection](security-encryption-data-protection.md).</span></span>

##  <a name="isolation"></a><span data-ttu-id="69808-155">Isolamento</span><span class="sxs-lookup"><span data-stu-id="69808-155">Isolation</span></span>

<span data-ttu-id="69808-156">Para alcançar este equilíbrio, o HoloLens 2 tem um sistema operativo central que é utilizado para funções primárias como o arranque, controlo de hardware, login, etc. Existem apenas dois conjuntos de aplicações que funcionam no sistema operativo principal – aplicações pré-instaladas e aplicações UWP.</span><span class="sxs-lookup"><span data-stu-id="69808-156">To achieve this balance, HoloLens 2 has a core operating system that is used for primary functions such as booting up, hardware control, logging in etc. There are only two sets of applications that run on the core operating system – pre-installed applications and UWP apps.</span></span>

## <a name="code-signing"></a><span data-ttu-id="69808-157">Assinatura de código</span><span class="sxs-lookup"><span data-stu-id="69808-157">Code signing</span></span>

<span data-ttu-id="69808-158">O código de assinatura digital permite fundamentar que os executáveis e scripts não foram modificados desde que foram assinados por uma fonte de confiança, fornecendo assim autenticidade e integridade.</span><span class="sxs-lookup"><span data-stu-id="69808-158">Digitally signing code allows substantiation that executables and scripts have not been modified since they were signed by a trusted source therefore providing authenticity and integrity.</span></span> <span data-ttu-id="69808-159">As autoridades que holoLens 2 confiam por padrão são a Microsoft e a Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="69808-159">The authorities that HoloLens 2 trusts by default are Microsoft and Microsoft Store.</span></span> <span data-ttu-id="69808-160">Os administradores de TI podem adicionar novos certificados ao dispositivo através do [ClientCertificateInstall](https://docs.microsoft.com/windows/client-management/mdm/clientcertificateinstall-csp) e [RootCATrustedCertificates](https://docs.microsoft.com/windows/client-management/mdm/rootcacertificates-csp) CSPs.</span><span class="sxs-lookup"><span data-stu-id="69808-160">IT administrators can add new certificates to the device through the [ClientCertificateInstall](https://docs.microsoft.com/windows/client-management/mdm/clientcertificateinstall-csp) and [RootCATrustedCertificates](https://docs.microsoft.com/windows/client-management/mdm/rootcacertificates-csp) CSPs.</span></span> <span data-ttu-id="69808-161">Também podem usar a [política AllowAllTrustedApps](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-applicationmanagement#applicationmanagement-allowalltrustedapps) para confiar em aplicações adicionais sideloaded ou [Line-of-business](https://docs.microsoft.com/intune/apps/lob-apps-windows).</span><span class="sxs-lookup"><span data-stu-id="69808-161">They can also use the [AllowAllTrustedApps policy](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-applicationmanagement#applicationmanagement-allowalltrustedapps) to trust additional sideloaded or [Line-of-business apps](https://docs.microsoft.com/intune/apps/lob-apps-windows).</span></span> <span data-ttu-id="69808-162">Os certificados residem na loja de certificados de máquina local que é armazenada em HKLM/Root se utilizar "Dispositivo" ou em HKCU se utilizar "Utilizador".</span><span class="sxs-lookup"><span data-stu-id="69808-162">Certificates reside in the local machine certificate store which is stored in HKLM/Root if using “Device” or in HKCU if using “User”.</span></span>

## <a name="defender-protections"></a><span data-ttu-id="69808-163">Proteções do Defender</span><span class="sxs-lookup"><span data-stu-id="69808-163">Defender protections</span></span>
<span data-ttu-id="69808-164">HoloLens 2 utiliza os serviços da Microsoft para dar aos utilizadores um nível avançado de segurança:</span><span class="sxs-lookup"><span data-stu-id="69808-164">HoloLens 2 uses Microsoft services to give users an advanced level of security:</span></span>

* <span data-ttu-id="69808-165">[O Defender SmartScreen](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-smartscreen/microsoft-defender-smartscreen-overview) é ativado automaticamente no Windows Holographic pelo SISTEMA e protege contra phishing e malware, bem como o download de ficheiros potencialmente maliciosos, no Edge.</span><span class="sxs-lookup"><span data-stu-id="69808-165">[Defender SmartScreen](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-smartscreen/microsoft-defender-smartscreen-overview) is automatically enabled on Windows Holographic by the OS and protects against phishing and malware, as well as the downloading of potentially malicious files, on Edge.</span></span> <span data-ttu-id="69808-166">Não pode ser desligado pelo utilizador, mas pode ser desativado através da política.</span><span class="sxs-lookup"><span data-stu-id="69808-166">It cannot be turned off by the user but can be disabled through policy.</span></span>

* <span data-ttu-id="69808-167">[O Defender Firewall](https://docs.microsoft.com/windows/security/threat-protection/windows-firewall/windows-firewall-with-advanced-security) bloqueia o tráfego de rede não autorizado de e para o seu dispositivo.</span><span class="sxs-lookup"><span data-stu-id="69808-167">[Defender Firewall](https://docs.microsoft.com/windows/security/threat-protection/windows-firewall/windows-firewall-with-advanced-security) blocks unauthorized network traffic from flowing to and from your device.</span></span> <span data-ttu-id="69808-168">É ativado por defeito e não configurável pelo cliente através de ações ou políticas locais.</span><span class="sxs-lookup"><span data-stu-id="69808-168">It is enabled by default and not configurable by the customer through local actions or policy.</span></span> 

* <span data-ttu-id="69808-169">[Controlo de aplicações do Windows Defender](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-application-control/wdac-and-applocker-overview): O HoloLens 2 suporta o WDAC que permite que o administrador de TI pressione as políticas de controlo de aplicações para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="69808-169">[Windows Defender Application Control](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-application-control/wdac-and-applocker-overview):  HoloLens 2 supports WDAC which allows IT admin to push application control policies onto the device.</span></span> <span data-ttu-id="69808-170">Mais informações podem ser encontradas no [Use WDAC em dispositivos HoloLens 2 com MSFT Intune](https://docs.microsoft.com/mem/intune/configuration/custom-profile-hololens).</span><span class="sxs-lookup"><span data-stu-id="69808-170">More info can be found in [Use WDAC on HoloLens 2 devices with MSFT Intune](https://docs.microsoft.com/mem/intune/configuration/custom-profile-hololens).</span></span> 

<span data-ttu-id="69808-171">Os administradores de TI podem gerir o comportamento do SmartScreen através [do AllowSmartScreen](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-browser#browser-allowsmartscreen) e do comportamento do navegador através [destas políticas.](https://docs.microsoft.com/windows/client-management/mdm/policy-csps-supported-by-hololens2)</span><span class="sxs-lookup"><span data-stu-id="69808-171">IT admins can manage SmartScreen behavior through [AllowSmartScreen](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-browser#browser-allowsmartscreen) and browser behavior through [these policies](https://docs.microsoft.com/windows/client-management/mdm/policy-csps-supported-by-hololens2).</span></span> 

